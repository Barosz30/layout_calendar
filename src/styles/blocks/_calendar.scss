@import "../utils/variables";

@for $i from 1 through $month-length {
  $day-number: (($i) % 7); // Use modulo to repeat every 7 days
  $day-name: map-get($days, $day-number);
  $numbers: map-merge($numbers, ($i: $day-name));
}

.calendar {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  //changed it from set value to calculation
  width: 7 * $default-size + 6 * $size-gap + 2 * $default-padding;
  padding: $default-padding;
  gap: $size-gap;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  &__day {
    background-color: #eee;
    width: $default-size;
    height: $default-size;
    border: 1px solid black;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-wrap: normal;
    transition: transform 0.5s;

    &:hover {
      cursor: pointer;
      background-color: pink;
      transform: translateY(-20px);
    }
  }

  @each $day, $i in $days {
    &--start-day-#{$day} :first-child {
      margin-left: $i * 103px;
    }

  }

  @for $i from 28 through 31 {
    &--month-length-#{$i} :nth-child(n + #{$i + 1}) {
      display: none;
    }
  }

}

@each $entry in $numbers {
  $number: nth($entry, 1);
  // $day: nth($entry, 2);
  // i'll leave that, if i ever want to add name of day to calendar ;)

  .calendar__day:nth-child(#{$number}) {

    &::before {
      content: "#{$number}";
      align-content: center;
    }

  }
}
